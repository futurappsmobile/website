---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { supportedLanguages } from "../../i18n/languages";
import { getLegalContent } from "../../i18n/utils";

export async function getStaticPaths() {
    return supportedLanguages.map((lang) => ({
        params: { lang: lang.code },
    }));
}

const { lang } = Astro.params;
const content = await getLegalContent(lang);
const { terms } = content;
---

<Layout
    title={`${terms.title} - SnapFuel`}
    description="Terms of Use for SnapFuel"
>
    <Header currentLang={lang} />

    <main class="py-16 bg-white">
        <div class="container mx-auto px-4 max-w-4xl">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">{terms.title}</h1>
            <p class="text-gray-600 mb-8">{terms.lastUpdated}</p>

            <div class="prose prose-lg max-w-none">
                {
                    terms.sections.map((section) => (
                        <section class="mb-8">
                            <h2 class="text-2xl font-bold text-gray-900 mb-4">
                                {section.title}
                            </h2>
                            <div
                                class="text-gray-700 mb-4"
                                set:html={section.content}
                            />
                        </section>
                    ))
                }
            </div>
        </div>
    </main>

    <Footer currentLang={lang} />
</Layout>
