---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const faqs = [
  {
    category: 'Getting Started',
    questions: [
      {
        question: 'How do I create an account?',
        answer: 'Download the app from the App Store or Google Play, then tap "Sign Up" on the welcome screen. You can register using your email or sign in with Apple/Google for faster access.'
      },
      {
        question: 'Is YourApp free to use?',
        answer: 'Yes! YourApp offers a free tier with core features including meal planning, basic recipe search, and nutrition tracking. Premium features like AI recipe generation and advanced analytics are available with a subscription.'
      },
      {
        question: 'What devices are supported?',
        answer: 'YourApp is available on iOS (iPhone and iPad running iOS 14+) and Android (devices running Android 8.0+). We also sync your data across all your devices.'
      }
    ]
  },
  {
    category: 'Features',
    questions: [
      {
        question: 'How does the AI recipe generator work?',
        answer: 'Our AI analyzes your dietary preferences, restrictions, available ingredients, and cooking skill level to generate personalized recipes. Simply input what you have or what you\'re craving, and the AI will create custom recipes just for you.'
      },
      {
        question: 'Can I track macros and calories?',
        answer: 'Absolutely! YourApp provides detailed nutritional information for all recipes and allows you to log your daily intake. Track calories, protein, carbs, fats, fiber, and more with our comprehensive nutrition database.'
      },
      {
        question: 'How do shopping lists work?',
        answer: 'When you add meals to your weekly plan, YourApp automatically generates a shopping list with all ingredients. The list is organized by store sections and can be checked off as you shop. You can also manually add items.'
      },
      {
        question: 'Can I save my own recipes?',
        answer: 'Yes! You can create and save unlimited custom recipes with photos, ingredients, instructions, and nutritional information. Your recipes sync across all devices.'
      }
    ]
  },
  {
    category: 'Meal Planning',
    questions: [
      {
        question: 'How far in advance can I plan meals?',
        answer: 'You can plan meals as far ahead as you like! Our calendar view makes it easy to schedule meals for weeks or even months in advance.'
      },
      {
        question: 'Can I meal prep for the week?',
        answer: 'Definitely! YourApp is perfect for meal prep. Create your weekly plan, generate a consolidated shopping list, and use our batch cooking suggestions to prep efficiently.'
      },
      {
        question: 'What if I need to adjust my meal plan?',
        answer: 'Your meal plan is completely flexible. Drag and drop meals to different days, swap recipes, or quickly regenerate suggestions based on your preferences.'
      }
    ]
  },
  {
    category: 'Dietary Needs',
    questions: [
      {
        question: 'Does YourApp support special diets?',
        answer: 'Yes! We support various dietary preferences including vegan, vegetarian, keto, paleo, gluten-free, dairy-free, and more. You can set multiple dietary restrictions in your profile.'
      },
      {
        question: 'Can I track food allergies?',
        answer: 'Absolutely. Add your food allergies to your profile, and we\'ll automatically filter out recipes containing those ingredients and warn you if you try to add them to your meal plan.'
      },
      {
        question: 'Are nutritional values accurate?',
        answer: 'We use comprehensive nutritional databases and calculate values based on USDA standards. However, values are estimates and may vary based on specific brands and preparation methods.'
      }
    ]
  },
  {
    category: 'Account & Subscription',
    questions: [
      {
        question: 'What\'s included in the premium subscription?',
        answer: 'Premium includes unlimited AI recipe generation, advanced meal planning features, detailed nutrition analytics, custom meal prep plans, priority support, and an ad-free experience.'
      },
      {
        question: 'Can I cancel my subscription anytime?',
        answer: 'Yes, you can cancel anytime through your app store account settings. You\'ll continue to have access to premium features until the end of your current billing period.'
      },
      {
        question: 'How do I export my data?',
        answer: 'Go to Settings > Data & Privacy > Export Data. You\'ll receive a downloadable file with all your recipes, meal plans, and tracking data in standard formats.'
      }
    ]
  }
];
---

<Layout
  title="Frequently Asked Questions - YourApp"
  description="Find answers to common questions about YourApp, meal planning, nutrition tracking, and more."
>
  <Header />

  <main class="py-16 bg-gray-50">
    <div class="container mx-auto px-4 max-w-5xl">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          Frequently Asked Questions
        </h1>
        <p class="text-xl text-gray-600">
          Everything you need to know about YourApp. Can't find what you're looking for?
          <a href={`${import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/'}support`} class="text-blue-600 hover:text-blue-700 underline">Contact our support team</a>.
        </p>
      </div>

      <!-- FAQ Sections -->
      {faqs.map((section) => (
        <div class="mb-12">
          <h2 class="text-2xl font-bold text-gray-900 mb-6 pb-2 border-b-2 border-blue-600">
            {section.category}
          </h2>
          <div class="space-y-6">
            {section.questions.map((item, index) => (
              <details class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <summary class="cursor-pointer p-6 font-semibold text-lg text-gray-900 hover:text-blue-600 transition-colors list-none flex items-center justify-between">
                  <span>{item.question}</span>
                  <svg
                    class="w-5 h-5 text-blue-600 transform transition-transform duration-200"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                  </svg>
                </summary>
                <div class="px-6 pb-6 text-gray-700 leading-relaxed">
                  {item.answer}
                </div>
              </details>
            ))}
          </div>
        </div>
      ))}

      <!-- CTA Section -->
      <div class="mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-center text-white">
        <h2 class="text-3xl font-bold mb-4">Still have questions?</h2>
        <p class="text-xl mb-6 text-blue-100">
          Our support team is here to help you get the most out of YourApp.
        </p>
        <a
          href={`${import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/'}support`}
          class="inline-block px-8 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors"
        >
          Contact Support
        </a>
      </div>
    </div>
  </main>

  <Footer />
</Layout>

<style>
  details[open] summary svg {
    transform: rotate(180deg);
  }
</style>
